(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(n,t,e){n.exports=e(69)},47:function(n,t,e){},69:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"toggleBag",function(){return S}),e.d(r,"getProducts",function(){return F}),e.d(r,"getProductsCart",function(){return R}),e.d(r,"addProductCart",function(){return N}),e.d(r,"deleteProductCart",function(){return z}),e.d(r,"clearCart",function(){return G});var a=e(0),o=e.n(a),i=e(12),c=e.n(i),l=(e(47),e(13)),u=e(14),s=e(18),p=e(16),f=e(15),d=e(17),m=e(4),g=e(10),v=e(7),h=e(8),b=e.n(h),x=e(19),y=e(36),O="",E=(O="https://my-json-server.typicode.com/BreFranca/front-end-test-netshoes/",function(n,t){var e="0";return e=(e=void 0===(t=Number(t).toString().split("."))[1]?"00":t[1].length>1?t[1]:t[1]+"0").substring(0,2),"<small>".concat(n,"</small> <strong>").concat(t[0],"</strong><small>,").concat(e,"</small>")}),j=function(n,t,e){var r=t/n;return r=r.toFixed(2).toString().replace(".",","),"ou ".concat(n,"x ").concat(e).concat(r)},P=function(n,t){return n+" "+t},T=function(n){return 9===n?n=1:n>9&&(n=(n=n.toString().split(""))[1]),"https://brefranca.github.io/front-end-test-netshoes/assets/products/corinthians"+n+".jpg"},w=function(n){return n[Math.floor(Math.random()*n.length)]},C=function(n,t){return n.amount?(n.amount=n.amount+1,n.totalPrice=n.totalPrice+n.price):(n.amount=1,n.totalPrice=n.price),t&&(n.size=t),n},k=e.n(y).a.create({baseURL:O,headers:{"Access-Control-Allow-Origin":"*"},responseType:"text",responseEncoding:"utf8"}),A=function(){return k.get("products")},_=function(n){return k.get("products/".concat(n))},S=function(n){return function(t){t("show"===n?{type:"TOGGLE_BAG",payload:!0}:{type:"TOGGLE_BAG",payload:!1})}},F=function(){return function(){var n=Object(x.a)(b.a.mark(function n(t){var e;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A().then(function(n){var e=n.data;return t({type:"GET_PRODUCTS",payload:e}),e}).catch(function(n){return console.log("erro",n)});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},R=function(){return function(){var n=Object(x.a)(b.a.mark(function n(t){var e,r,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(e=JSON.parse(localStorage.getItem("cart")))&&(t({type:"GET_PRODUCTS_CART",payload:e}),r=e.reduce(function(n,t){return n+t.totalPrice},0),a=Math.max.apply(Math,Object(v.a)(e.map(function(n){return n.installments})).concat([0])),r=Number(r.toFixed(2)),a=Number(a.toFixed(2)),t({type:"GET_TOTAL_AMOUNT_CART",payload:{total:r,installments:a}}));case 2:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},N=function(n,t){return function(){var e=Object(x.a)(b.a.mark(function e(r){var a,o,i,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=JSON.parse(localStorage.getItem("cart")))){e.next=17;break}if(r({type:"GET_PRODUCTS_CART",payload:a}),void 0!==(o=a.find(function(e){return e.id===n&&e.size===t}))){e.next=9;break}return e.next=7,_(n).then(function(n){var e=n.data;o=C(e,t),a=[].concat(Object(v.a)(a),[o]),r({type:"UPDATE_CART",payload:a}),localStorage.setItem("cart",JSON.stringify(a))}).catch(function(n){return console.log("erro",n)});case 7:e.next=15;break;case 9:i=a.filter(function(t){return t.id!==n}),c=a.filter(function(e){return e.id===n&&e.size!==t}),o=C(o),i.concat(c),i=[].concat(Object(v.a)(i),[o]),localStorage.setItem("cart",JSON.stringify(a));case 15:e.next=19;break;case 17:return e.next=19,_(n).then(function(n){var e=n.data,a=C(e,t);r({type:"INSERT_PRODUCT_CART",payload:a});var o=[a];localStorage.setItem("cart",JSON.stringify(o))}).catch(function(n){return console.log("erro",n)});case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},z=function(n,t){return function(e){var r=JSON.parse(localStorage.getItem("cart"));if(r){var a=r.filter(function(t){return t.id!==n}),o=r.filter(function(e){return e.id===n&&e.size!==t});e({type:"UPDATE_CART",payload:a=a.concat(o)});var i=a.reduce(function(n,t){return n+t.totalPrice},0),c=Math.max.apply(Math,Object(v.a)(a.map(function(n){return n.installments})).concat([0])),l={total:i=Number(i.toFixed(2)),installments:c=Number(c.toFixed(2))};return e({type:"GET_TOTAL_AMOUNT_CART",payload:l}),0===l.total&&e({type:"TOGGLE_BAG",payload:!1}),localStorage.setItem("cart",JSON.stringify(a)),!0}}},G=function(){return function(n){localStorage.removeItem("cart"),n({type:"UPDATE_CART",payload:[]});n({type:"GET_TOTAL_AMOUNT_CART",payload:{total:0,installments:null}});return[]}},U=e(1),L=e(2);function I(){var n=Object(U.a)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    z-index: -1;\n    display: none;\n    &.show {\n        display: block;\n    }\n"]);return I=function(){return n},n}function D(){var n=Object(U.a)(["\n    width: 530px;\n    background: #202025;\n    position: fixed;\n    height: 100%;\n    top: 0;\n    transition: .4s all linear;\n    right: -530px;\n    opacity: 0;\n    overflow: hidden;\n    overflow-y: scroll;\n    padding-bottom: 50px;\n    &::-webkit-scrollbar {\n        display: none;\n    }\n    &.show {\n        right: 0;\n        opacity: 1;\n    }\n"]);return D=function(){return n},n}var M=L.a.div(D()),B=L.a.div(I());function J(){var n=Object(U.a)(["\n    appearance: none;\n    border: none;\n    padding: 10px 15px;\n    color: #FFFFFF;\n    background: rgba(0, 0, 0, .6);\n    margin-right: 35px;\n    margin-left: auto;\n    display: block;\n    max-width: 120px;\n    cursor: pointer;\n    transition: .4s all linear;\n    &:hover {\n        background: rgba(255, 255, 255, .6)\n    }\n"]);return J=function(){return n},n}var $=L.a.button(J());function H(){var n=Object(U.a)(["\n    color: #FFFFFF;\n    text-transform: uppercase;\n    margin-left: 23px;\n"]);return H=function(){return n},n}function X(){var n=Object(U.a)(["\n    background: #dfbd00;\n    color: #000000;\n    width: 19px;\n    height: 19px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 700;\n    border-radius: 50%;\n    position: absolute;\n    bottom: -7px;\n    right: -5px;\n"]);return X=function(){return n},n}function Q(){var n=Object(U.a)(["\n    position: relative;\n"]);return Q=function(){return n},n}function V(){var n=Object(U.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 43px 0; \n"]);return V=function(){return n},n}var q=L.a.div(V()),K=L.a.div(Q()),W=L.a.div(X()),Y=L.a.h3(H()),Z=function(n){return o.a.createElement(q,null,o.a.createElement(K,null,o.a.createElement(W,null,n.total," "),o.a.createElement("img",{src:"/assets/images/bag.png",alt:"Sacola"})),o.a.createElement(Y,null,"Sacola"))};Z.defaultProps={total:1e3};var nn=Z;function tn(){var n=Object(U.a)(["\n    display: flex;\n    align-items: center;\n"]);return tn=function(){return n},n}function en(){var n=Object(U.a)(["\n    min-height: 52px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: space-between;\n"]);return en=function(){return n},n}function rn(){var n=Object(U.a)(["\n    margin-left: 20px;\n"]);return rn=function(){return n},n}function an(){var n=Object(U.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 25px 35px 25px 23px;\n    border-bottom: 2px solid #000000;\n    transition: .4s all linear;\n    &:first-child {\n        border-top: 2px solid #000000;\n    }\n    &:hover {\n        background: #000000;\n        img {\n            filter: brightness(1) invert(1)\n        }\n    }\n"]);return an=function(){return n},n}var on=L.a.div(an()),cn=L.a.div(rn()),ln=L.a.div(en()),un=L.a.div(tn());function sn(){var n=Object(U.a)(["\n    width: 47.5px;\n    min-width: 47.5px;\n    height: 47.5px;\n    background-size: cover;\n    background-position: center center;\n    display: block;\n"]);return sn=function(){return n},n}var pn=L.a.div(sn()),fn=function(n){return o.a.createElement(pn,{style:{backgroundImage:"url('".concat(n.image,"')")}})};fn.defaultProps={image:"../../../assets/images/product-blank.jpg"};var dn=fn;function mn(){var n=Object(U.a)(["\n    color: #FFFFFF;\n    font-size: 1em;\n    font-weight: 700;\n    margin-bottom: 6px;\n    max-width: 330px;\n"]);return mn=function(){return n},n}var gn=L.a.h4(mn()),vn=function(n){return o.a.createElement(gn,null,n.children)};vn.defaultProps={format:"Nome do Produto"};var hn=vn;function bn(){var n=Object(U.a)(["\n    font-weight: 400;\n    color: #999999;\n    font-size: 0.857em;\n"]);return bn=function(){return n},n}var xn=L.a.div(bn()),yn=function(n){return o.a.createElement(xn,null,n.size," | ",n.style)};yn.defaultProps={size:"GG",style:"Descri\xe7\xe3o do Produto"};var On=yn;function En(){var n=Object(U.a)(["\n    font-weight: 400;\n    color: #999999;\n    font-size: 0.857em;\n"]);return En=function(){return n},n}var jn=L.a.p(En()),Pn=function(n){return o.a.createElement(jn,null,"Quantidade: ",n.amount)};Pn.defaultProps={title:1};var Tn=Pn;function wn(){var n=Object(U.a)(["\n    cursor: pointer\n"]);return wn=function(){return n},n}var Cn=L.a.img(wn()),kn=function(n){return o.a.createElement(Cn,{src:"../../../assets/images/times.png",alt:"Delete",onClick:n.onClick})};function An(){var n=Object(U.a)(["\n    color: #dfbd00;\n    font-weight: 700;\n    small {\n        font-size: 1em;\n    }\n"]);return An=function(){return n},n}var _n=L.a.div(An()),Sn=function(n){return o.a.createElement(_n,null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:E(n.format,n.price)}}))};Sn.defaultProps={format:"R$",price:0};var Fn=Sn,Rn=function(n){return o.a.createElement(on,null,o.a.createElement(un,null,o.a.createElement(dn,{image:n.imageUrl}),o.a.createElement(cn,null,o.a.createElement(hn,null,P(n.title,n.description)),o.a.createElement(On,{size:n.size,style:n.style}),o.a.createElement(Tn,{amount:n.amount}))),o.a.createElement(ln,null,o.a.createElement(kn,{onClick:n.onClick}),o.a.createElement(Fn,{format:n.formatPrice,price:n.price})))};Rn.defaultProps={title:"Nome do Produto",description:"15/16 S/N",size:"G",price:50,formatPrice:"R$",amount:1,style:"Descri\xe7\xe3o de estilo",imageUrl:"../../assets/images/product-blank.jpg",imageAlt:"Alt Image"};var Nn=Rn;function zn(){var n=Object(U.a)(["\n    appearance: none;\n    width: calc(100% - 23px - 35px);\n    font-size: 1em;\n    font-weight: 700;\n    text-transform: uppercase;\n    background: #000000;\n    color: #FFFFFF;\n    border: none;\n    box-shadow: none;\n    height: 50px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    margin: 0 35px 0 23px;\n    transition: .4s all linear;\n    font-family: inherit;\n    &:hover {\n        background: rgba(0, 0, 0, .3);\n    }\n"]);return zn=function(){return n},n}var Gn=L.a.button(zn()),Un=function(n){return o.a.createElement(Gn,{onClick:n.onClick},"Comprar")};function Ln(){var n=Object(U.a)(["\n    font-size: 0.857em;\n    color: rgba(255, 255, 255, .2);\n    text-transform: uppercase;\n    margin-right: 10px;\n"]);return Ln=function(){return n},n}function In(){var n=Object(U.a)(["\n    color: #dfbd00;\n    font-size: 1.714em;\n    small {\n        font-size: 1em;\n    }\n"]);return In=function(){return n},n}function Dn(){var n=Object(U.a)(["\n    font-size: 1em;\n    color: rgba(255, 255, 255, .4);\n    text-transform: uppercase;\n"]);return Dn=function(){return n},n}function Mn(){var n=Object(U.a)(["\n    text-align: right;\n"]);return Mn=function(){return n},n}function Bn(){var n=Object(U.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 31px 35px 33px 23px;\n"]);return Bn=function(){return n},n}var Jn=L.a.div(Bn()),$n=L.a.div(Mn()),Hn=L.a.p(Dn()),Xn=L.a.div(In()),Qn=L.a.div(Ln()),Vn=function(n){return o.a.createElement(Jn,null,o.a.createElement(Hn,null,"Subtotal"),o.a.createElement($n,null,o.a.createElement(Xn,null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:E(n.formatPrice,n.amount)}})),o.a.createElement(Qn,null,j(n.installments,n.amount,n.formatPrice))))};Vn.defaultProps={formatPrice:"R$",amount:0,installments:9};var qn=Vn,Kn=function(n){function t(){var n,e;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).state={show:!1},e.componentDidMount=function(){e.props.getProductsCart()},e.handleRemove=function(n,t){e.props.deleteProductCart(n,t)},e.handleClear=function(){e.props.clearCart(),e.props.getProductsCart(),setTimeout(function(){this.props.toggleBag("hide")}.bind(Object(f.a)(e)),500)},e}return Object(d.a)(t,n),Object(u.a)(t,[{key:"render",value:function(){var n=this,t=this.props,e=t.cartList,r=t.cartAmount,a=t.bag,i=t.toggleBag;return o.a.createElement(M,{className:!0===a?"show":null},o.a.createElement(B,{className:!0===a?"show":null,onClick:function(){return i("hide")}}),o.a.createElement(nn,{total:e?e.length:null}),o.a.createElement("div",null,o.a.createElement($,{onClick:function(){return n.handleClear()}},"Limpar Sacola"),e&&e.map(function(t,e){return o.a.createElement(Nn,{key:e,title:t.title,description:t.description,imageUrl:T(t.id),size:t.size,formatPrice:t.currencyFormat,price:t.totalPrice,style:t.style,amount:t.amount,onClick:function(){return n.handleRemove(t.id,t.size)}})}),e.length>0?o.a.createElement(qn,{formatPrice:e?e[0].currencyFormat:"R$",installments:r?r.installments:null,amount:r?r.total:null}):null,o.a.createElement(Un,{onClick:function(){return n.handleClear()}})))}}]),t}(o.a.Component),Wn=Object(m.d)(Object(g.b)(function(n){return{cartList:n.cart.cartList,bag:n.ui.bag,cartAmount:n.cart.cartAmount}},r))(Kn);function Yn(){var n=Object(U.a)(["\n    max-width: 75%;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    margin-bottom: 50px;\n    transition: .4s all linear;\n"]);return Yn=function(){return n},n}var Zn=L.a.div(Yn());function nt(){var n=Object(U.a)(["\n    max-width: 180px;\n    margin: 0 auto 8px;\n    cursor: pointer;\n    overflow: hidden;\n    max-height: 230px;\n    img {\n        min-height: 230px;\n        // max-width: 100%;\n        width: 100%:\n        max-width: 180px;\n        position: relative;\n        transition: .4s all linear;\n    }\n    &:hover {\n        img {\n            opacity: .6;\n        }\n    }\n"]);return nt=function(){return n},n}var tt=L.a.div(nt()),et=function(n){return o.a.createElement(tt,null,o.a.createElement("img",Object.assign({},n,{alt:n.alt})))};et.defaultProps={src:"../../../assets/images/product-blank.jpg",alt:"Alt Image"};var rt=et;function at(){var n=Object(U.a)(["\n    font-size: 1em;\n    font-weight: 400;\n    margin: 8px -20px 14px;\n    min-height: 38px;\n    position: relative;\n    cursor: pointer;\n    &::after {\n        content: '';\n        width: 15px;\n        height: 2px;\n        background: #dfbd00;\n        display: block;\n        position: absolute;\n        top: 100%;\n        left: 50%;\n        transform: translateX(-50%);\n        margin-top: 7px;\n    }\n"]);return at=function(){return n},n}var ot=L.a.h3(at()),it=function(n){return o.a.createElement(ot,null,n.children)};it.defaultProps={children:"Descri\xe7\xe3o do Produto"};var ct=it;function lt(){var n=Object(U.a)(["\n    font-size: 1.714em;\n    font-weight: 700;\n"]);return lt=function(){return n},n}var ut=L.a.div(lt()),st=function(n){return o.a.createElement(ut,null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:E(n.format,n.price)}}))};st.defaultProps={format:"R$",price:229.9};var pt=st;function ft(){var n=Object(U.a)(["\n    font-size: 1em;\n    color: #999999;\n    font-weight: 600;\n"]);return ft=function(){return n},n}var dt=L.a.p(ft()),mt=function(n){return o.a.createElement(dt,null,j(n.installments,n.price,n.formatPrice))};mt.defaultProps={Installments:9};var gt=mt,vt=function(n){return o.a.createElement(Zn,{onClick:n.onClick},o.a.createElement(rt,{src:n.imageUrl,alt:n.imageAlt}),o.a.createElement(ct,null,P(n.title,n.description)),o.a.createElement(pt,{format:n.formatPrice,price:n.price}),n.installments?o.a.createElement(gt,{installments:n.installments,price:n.price,formatPrice:n.formatPrice}):null)};vt.defaultProps={title:"Nome do Produto",description:"14/15 S/N",formatPrice:"R$",price:299.5,installments:5,imageUrl:"../../assets/images/product-blank.jpg",imageAlt:"Alt Image"};var ht=vt,bt=function(n){function t(){var n,e;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).state={products:[]},e.componentDidMount=function(){e.props.getProducts().then(function(n){e.setState({products:n})})},e.handleAdd=function(n,t){var r=w(t);e.props.addProductCart(n,r).then(function(){e.props.toggleBag("show"),e.props.getProductsCart()})},e}return Object(d.a)(t,n),Object(u.a)(t,[{key:"render",value:function(){var n=this,t=this.state.products;return o.a.createElement("div",{className:"homepage"},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"columns"},t&&t.map(function(t,e){return o.a.createElement("div",{className:"col",key:e},o.a.createElement(ht,{onClick:function(){return n.handleAdd(t.id,t.availableSizes)},title:t.title,imageUrl:T(t.id),description:t.description,formatPrice:t.currencyFormat,price:t.price,installments:t.installments}))}))))}}]),t}(o.a.Component),xt=Object(m.d)(Object(g.b)(function(n){return{products:n.product.products}},r))(bt),yt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(xt,null),o.a.createElement(Wn,null))},Ot=e(39),Et={products:[]},jt=e(11),Pt={cartList:[],cartAmount:{total:0,installments:null}},Tt={bag:!1},wt=Object(m.c)({product:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return{products:t.payload};default:return n}},cart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOTAL_AMOUNT_CART":return Object(jt.a)({},n,{cartAmount:t.payload});case"GET_PRODUCTS_CART":return Object(jt.a)({},n,{cartList:t.payload});case"INSERT_PRODUCT_CART":return Object(jt.a)({},n,{cartList:[].concat(Object(v.a)(n.cartList),[t.payload])});case"UPDATE_CART":return Object(jt.a)({},n,{cartList:t.payload});default:return n}},ui:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_BAG":return{bag:t.payload};default:return n}}}),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,kt=Object(m.e)(wt,Ct(Object(m.a)(Ot.a)));c.a.render(o.a.createElement(g.a,{store:kt},o.a.createElement(yt,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.f9642996.chunk.js.map